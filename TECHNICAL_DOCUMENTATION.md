# ğŸ”§ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„ØªÙ‚Ù†ÙŠØ© - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙƒØªØ¨

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©-Ø¹Ù„Ù‰-Ø§Ù„Ù†Ø¸Ø§Ù…)
2. [Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©](#Ø§Ù„Ø¨Ù†ÙŠØ©-Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©)
3. [Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
4. [Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù…Ø²ÙˆØ¯ÙŠÙ†](#Ø§Ù„Ø®Ø¯Ù…Ø§Øª-ÙˆØ§Ù„Ù…Ø²ÙˆØ¯ÙŠÙ†)
5. [ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…](#ÙˆØ§Ø¬Ù‡Ø§Øª-Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
6. [Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø§Ù†](#Ù†Ø¸Ø§Ù…-Ø§Ù„Ø£Ù…Ø§Ù†)
7. [Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±Ø®ÙŠØµ](#Ù†Ø¸Ø§Ù…-Ø§Ù„ØªØ±Ø®ÙŠØµ)
8. [Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡](#Ù…Ø¹Ø§Ù„Ø¬Ø©-Ø§Ù„Ø£Ø®Ø·Ø§Ø¡)
9. [Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†](#Ø§Ù„Ø£Ø¯Ø§Ø¡-ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†)
10. [Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©](#Ø§Ù„ØªØ·ÙˆÙŠØ±-ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©)

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…

### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©
- **Ø§Ù„Ø§Ø³Ù…**: Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙƒØªØ¨ (Office Management System)
- **Ø§Ù„Ø¥ØµØ¯Ø§Ø±**: 1.0.0
- **Ø§Ù„Ù…Ù†ØµØ©**: Flutter/Dart
- **Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: SQLite
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©**: Provider Pattern

### Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©
- **Flutter SDK**: >= 3.3.0
- **Dart SDK**: >= 3.3.0
- **Ù…Ù†ØµØ§Øª Ù…Ø¯Ø¹ÙˆÙ…Ø©**: Windows, macOS, Linux, Android, iOS, Web

### Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```yaml
dependencies:
  flutter: sdk
  provider: ^6.0.5          # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
  sqflite: ^2.3.3           # Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  sqflite_common_ffi: ^2.3.3 # Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨
  fl_chart: ^0.68.0         # Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
  barcode_widget: ^2.0.4    # Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯
  pdf: ^3.11.0              # Ø¥Ù†Ø´Ø§Ø¡ PDF
  printing: ^5.13.3         # Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
  crypto: ^3.0.3            # Ø§Ù„ØªØ´ÙÙŠØ±
  google_fonts: ^6.2.1      # Ø§Ù„Ø®Ø·ÙˆØ·
  url_launcher: ^6.2.2      # ÙØªØ­ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
  shared_preferences: ^2.2.2 # Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
  device_info_plus: ^10.1.0  # Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
  encrypt: ^5.0.1           # Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
  uuid: ^4.4.0              # Ù…Ø¹Ø±ÙØ§Øª ÙØ±ÙŠØ¯Ø©
```

## ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

### Ù†Ù…Ø· Ø§Ù„ØªØµÙ…ÙŠÙ…
Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªØ®Ø¯Ù… **MVVM (Model-View-ViewModel)** Ù…Ø¹ **Provider Pattern**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      View       â”‚â—„â”€â”€â–ºâ”‚   ViewModel     â”‚â—„â”€â”€â–ºâ”‚     Model       â”‚
â”‚   (Screens)     â”‚    â”‚   (Providers)   â”‚    â”‚ (Database/APIs) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª
```
lib/src/
â”œâ”€â”€ app_shell.dart          # Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”œâ”€â”€ config/                 # Ù…Ù„ÙØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
â”‚   â”œâ”€â”€ store_info.dart     # Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø­Ù„
â”‚   â””â”€â”€ README.md          # Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
â”œâ”€â”€ models/                 # Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”œâ”€â”€ user_model.dart     # Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â”‚   â””â”€â”€ product_model.dart  # Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ù†ØªØ¬
â”œâ”€â”€ screens/                # Ø§Ù„Ø´Ø§Ø´Ø§Øª
â”‚   â”œâ”€â”€ dashboard_screen.dart
â”‚   â”œâ”€â”€ sales_screen.dart
â”‚   â”œâ”€â”€ products/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/               # Ø§Ù„Ø®Ø¯Ù…Ø§Øª
â”‚   â”œâ”€â”€ auth/              # Ø®Ø¯Ù…Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”‚   â”œâ”€â”€ db/                # Ø®Ø¯Ù…Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”œâ”€â”€ license/           # Ø®Ø¯Ù…Ø© Ø§Ù„ØªØ±Ø®ÙŠØµ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ utils/                  # Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
â”‚   â”œâ”€â”€ strings.dart       # Ø§Ù„Ù†ØµÙˆØµ
â”‚   â”œâ”€â”€ themes.dart        # Ø§Ù„Ø«ÙŠÙ…Ø§Øª
â”‚   â””â”€â”€ ...
â””â”€â”€ widgets/                # Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
    â”œâ”€â”€ error_display_widgets.dart
    â””â”€â”€ ...
```

## ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ù‡ÙŠÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (users)
```sql
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  password_hash TEXT NOT NULL,
  role TEXT NOT NULL CHECK (role IN ('manager', 'supervisor', 'employee')),
  full_name TEXT NOT NULL,
  phone TEXT,
  email TEXT,
  is_active INTEGER DEFAULT 1,
  created_at TEXT NOT NULL,
  updated_at TEXT NOT NULL
);
```

#### Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (products)
```sql
CREATE TABLE products (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  barcode TEXT UNIQUE,
  price REAL NOT NULL,
  cost REAL NOT NULL,
  quantity INTEGER DEFAULT 0,
  min_quantity INTEGER DEFAULT 0,
  category_id INTEGER,
  description TEXT,
  image_path TEXT,
  is_active INTEGER DEFAULT 1,
  created_at TEXT NOT NULL,
  updated_at TEXT NOT NULL,
  FOREIGN KEY (category_id) REFERENCES categories (id)
);
```

#### Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (customers)
```sql
CREATE TABLE customers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  phone TEXT,
  email TEXT,
  address TEXT,
  credit_limit REAL DEFAULT 0,
  balance REAL DEFAULT 0,
  created_at TEXT NOT NULL,
  updated_at TEXT NOT NULL
);
```

#### Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (sales)
```sql
CREATE TABLE sales (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER,
  user_id INTEGER NOT NULL,
  total_amount REAL NOT NULL,
  discount_amount REAL DEFAULT 0,
  tax_amount REAL DEFAULT 0,
  payment_method TEXT NOT NULL,
  notes TEXT,
  created_at TEXT NOT NULL,
  FOREIGN KEY (customer_id) REFERENCES customers (id),
  FOREIGN KEY (user_id) REFERENCES users (id)
);
```

#### Ø¬Ø¯ÙˆÙ„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (sale_items)
```sql
CREATE TABLE sale_items (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  sale_id INTEGER NOT NULL,
  product_id INTEGER NOT NULL,
  quantity INTEGER NOT NULL,
  unit_price REAL NOT NULL,
  total_price REAL NOT NULL,
  FOREIGN KEY (sale_id) REFERENCES sales (id),
  FOREIGN KEY (product_id) REFERENCES products (id)
);
```

### Ø®Ø¯Ù…Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### DatabaseService Class
```dart
class DatabaseService {
  static Database? _database;
  
  // ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  static Future<Database> get database async {
    if (_database != null) return _database!;
    _database = await _initDatabase();
    return _database!;
  }
  
  // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„
  static Future<Database> _initDatabase() async {
    final dbPath = await _getDatabasePath();
    return await openDatabase(
      dbPath,
      version: _databaseVersion,
      onCreate: _onCreate,
      onUpgrade: _onUpgrade,
    );
  }
  
  // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
  static Future<void> _onCreate(Database db, int version) async {
    await db.execute(_createUsersTable);
    await db.execute(_createProductsTable);
    await db.execute(_createCustomersTable);
    await db.execute(_createSalesTable);
    await db.execute(_createSaleItemsTable);
    // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
  }
}
```

## ğŸ”§ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù…Ø²ÙˆØ¯ÙŠÙ†

### AuthProvider - Ù…Ø²ÙˆØ¯ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
```dart
class AuthProvider extends ChangeNotifier {
  User? _currentUser;
  bool _isAuthenticated = false;
  
  User? get currentUser => _currentUser;
  bool get isAuthenticated => _isAuthenticated;
  
  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  Future<bool> login(String username, String password) async {
    try {
      final user = await DatabaseService.authenticateUser(username, password);
      if (user != null) {
        _currentUser = user;
        _isAuthenticated = true;
        notifyListeners();
        return true;
      }
      return false;
    } catch (e) {
      ErrorHandlerService.logError(e, context: 'AuthProvider.login');
      return false;
    }
  }
  
  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
  Future<void> logout() async {
    _currentUser = null;
    _isAuthenticated = false;
    notifyListeners();
  }
}
```

### StoreConfig - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ù„
```dart
class StoreConfig extends ChangeNotifier {
  StoreInfo _storeInfo = StoreInfo();
  
  StoreInfo get storeInfo => _storeInfo;
  
  // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø­Ù„
  Future<void> updateStoreInfo(StoreInfo newInfo) async {
    _storeInfo = newInfo;
    await _saveToPreferences();
    notifyListeners();
  }
  
  // Ø­ÙØ¸ ÙÙŠ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
  Future<void> _saveToPreferences() async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString('store_info', jsonEncode(_storeInfo.toJson()));
  }
}
```

## ğŸ¨ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

### Ù†Ø¸Ø§Ù… Ø§Ù„Ø«ÙŠÙ…Ø§Øª
```dart
class AppThemes {
  static ThemeData lightTheme = ThemeData(
    useMaterial3: true,
    brightness: Brightness.light,
    colorScheme: ColorScheme.fromSeed(
      seedColor: Colors.blue,
      brightness: Brightness.light,
    ),
    textTheme: GoogleFonts.notoSansArabicTextTheme(),
    appBarTheme: const AppBarTheme(
      centerTitle: true,
      elevation: 2,
    ),
  );
  
  static ThemeData darkTheme = ThemeData(
    useMaterial3: true,
    brightness: Brightness.dark,
    colorScheme: ColorScheme.fromSeed(
      seedColor: Colors.blue,
      brightness: Brightness.dark,
    ),
    textTheme: GoogleFonts.notoSansArabicTextTheme(
      ThemeData.dark().textTheme,
    ),
  );
}
```

### Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

#### AppShell - Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```dart
class AppShell extends StatefulWidget {
  @override
  Widget build(BuildContext context) {
    return Consumer<AuthProvider>(
      builder: (context, auth, child) {
        if (!auth.isAuthenticated) {
          return LoginScreen();
        }
        
        return Scaffold(
          body: IndexedStack(
            index: _selectedIndex,
            children: _pages,
          ),
          bottomNavigationBar: BottomNavigationBar(
            currentIndex: _selectedIndex,
            onTap: _onItemTapped,
            items: _buildNavigationItems(),
          ),
        );
      },
    );
  }
}
```

## ğŸ”’ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø§Ù†

### ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
```dart
class SecurityService {
  static String hashPassword(String password) {
    final bytes = utf8.encode(password + _salt);
    final digest = sha256.convert(bytes);
    return digest.toString();
  }
  
  static bool verifyPassword(String password, String hash) {
    return hashPassword(password) == hash;
  }
}
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
```dart
class PermissionService {
  static bool hasPermission(User user, UserPermission permission) {
    return user.role.permissions.contains(permission);
  }
  
  static bool canAccessScreen(User user, String screenName) {
    switch (screenName) {
      case 'users_management':
        return hasPermission(user, UserPermission.manageUsers);
      case 'reports':
        return hasPermission(user, UserPermission.viewReports);
      default:
        return true;
    }
  }
}
```

## ğŸ“„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±Ø®ÙŠØµ

### LicenseProvider - Ù…Ø²ÙˆØ¯ Ø§Ù„ØªØ±Ø®ÙŠØµ
```dart
class LicenseProvider extends ChangeNotifier {
  bool _isActivated = false;
  bool _isTrialActive = false;
  DateTime? _trialEndDate;
  
  bool get isActivated => _isActivated;
  bool get isTrialActive => _isTrialActive;
  
  // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ±Ø®ÙŠØµ
  Future<void> initialize() async {
    await _checkActivationStatus();
    await _checkTrialStatus();
    notifyListeners();
  }
  
  // ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„
  Future<void> _checkActivationStatus() async {
    final prefs = await SharedPreferences.getInstance();
    _isActivated = prefs.getBool('license_activated') ?? false;
  }
  
  // ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©
  Future<void> _checkTrialStatus() async {
    final prefs = await SharedPreferences.getInstance();
    final trialStart = prefs.getString('trial_start_date');
    
    if (trialStart != null) {
      final startDate = DateTime.parse(trialStart);
      final endDate = startDate.add(Duration(days: 30));
      _trialEndDate = endDate;
      _isTrialActive = DateTime.now().isBefore(endDate);
    }
  }
}
```

## âš ï¸ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### ErrorHandlerService - Ø®Ø¯Ù…Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
```dart
class ErrorHandlerService {
  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  static Future<T?> handleError<T>(
    BuildContext context,
    Future<T> Function() operation, {
    bool showSnackBar = true,
    VoidCallback? onSuccess,
    VoidCallback? onError,
  }) async {
    try {
      final result = await operation();
      onSuccess?.call();
      return result;
    } catch (error) {
      logError(error);
      if (showSnackBar) {
        _showErrorSnackBar(context, error);
      }
      onError?.call();
      return null;
    }
  }
  
  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®Ø·Ø£ Ù…Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
  static Future<T?> handleErrorWithRetry<T>(
    BuildContext context,
    Future<T> Function() operation, {
    int maxRetries = 3,
    Duration retryDelay = const Duration(seconds: 2),
  }) async {
    for (int i = 0; i < maxRetries; i++) {
      try {
        return await operation();
      } catch (error) {
        if (i == maxRetries - 1) {
          logError(error);
          _showErrorDialog(context, error);
          return null;
        }
        await Future.delayed(retryDelay);
      }
    }
    return null;
  }
  
  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·Ø£
  static void logError(dynamic error, {String? context, Map<String, dynamic>? additionalInfo}) {
    print('ERROR: ${DateTime.now()}');
    if (context != null) print('Context: $context');
    print('Error: $error');
    if (additionalInfo != null) {
      print('Additional Info: $additionalInfo');
    }
    print('Stack Trace: ${StackTrace.current}');
  }
}
```

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
```dart
enum ErrorType {
  warning,    // ØªØ­Ø°ÙŠØ±
  error,      // Ø®Ø·Ø£
  critical,   // Ø®Ø·Ø£ Ø­Ø±Ø¬
}

class ErrorInfo {
  final String title;
  final String message;
  final String? solution;
  final ErrorType type;
  
  const ErrorInfo({
    required this.title,
    required this.message,
    this.solution,
    this.type = ErrorType.error,
  });
}
```

## ğŸš€ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†

### ØªØ­Ø³ÙŠÙ† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```dart
class DatabaseOptimization {
  // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙ‡Ø§Ø±Ø³
  static Future<void> createIndexes(Database db) async {
    await db.execute('CREATE INDEX IF NOT EXISTS idx_products_barcode ON products(barcode)');
    await db.execute('CREATE INDEX IF NOT EXISTS idx_sales_date ON sales(created_at)');
    await db.execute('CREATE INDEX IF NOT EXISTS idx_customers_phone ON customers(phone)');
  }
  
  // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
  static Future<void> cleanupOldData(Database db) async {
    // Ø­Ø°Ù Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø£Ù‚Ø¯Ù… Ù…Ù† Ø³Ù†Ø©
    final oneYearAgo = DateTime.now().subtract(Duration(days: 365));
    await db.delete('sales', where: 'created_at < ?', whereArgs: [oneYearAgo.toIso8601String()]);
  }
}
```

### ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø°Ø§ÙƒØ±Ø©
```dart
class MemoryOptimization {
  // ØªØ­Ø³ÙŠÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
  static Widget buildOptimizedImage(String? imagePath, {double? width, double? height}) {
    if (imagePath == null || imagePath.isEmpty) {
      return Icon(Icons.image, size: width ?? height ?? 48);
    }
    
    return Image.asset(
      imagePath,
      width: width,
      height: height,
      fit: BoxFit.cover,
      cacheWidth: width?.toInt(),
      cacheHeight: height?.toInt(),
      errorBuilder: (context, error, stackTrace) {
        return Icon(Icons.broken_image, size: width ?? height ?? 48);
      },
    );
  }
  
  // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø·ÙˆÙŠÙ„Ø©
  static Widget buildOptimizedList(List<dynamic> items, Widget Function(BuildContext, int) itemBuilder) {
    return ListView.builder(
      itemCount: items.length,
      itemBuilder: itemBuilder,
      cacheExtent: 1000, // ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
    );
  }
}
```

## ğŸ”„ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©

### Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
```dart
// Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ­Ø¯Ø© - AuthProvider
void main() {
  group('AuthProvider Tests', () {
    late AuthProvider authProvider;
    
    setUp(() {
      authProvider = AuthProvider();
    });
    
    test('should login successfully with valid credentials', () async {
      final result = await authProvider.login('admin', 'password');
      expect(result, true);
      expect(authProvider.isAuthenticated, true);
    });
    
    test('should fail login with invalid credentials', () async {
      final result = await authProvider.login('invalid', 'wrong');
      expect(result, false);
      expect(authProvider.isAuthenticated, false);
    });
  });
}
```

### Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
```dart
class BackupService {
  // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
  static Future<String> createBackup() async {
    final dbPath = await DatabaseService.getDatabasePath();
    final backupDir = await getApplicationDocumentsDirectory();
    final timestamp = DateTime.now().millisecondsSinceEpoch;
    final backupPath = '${backupDir.path}/backup_$timestamp.db';
    
    await File(dbPath).copy(backupPath);
    return backupPath;
  }
  
  // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
  static Future<bool> restoreBackup(String backupPath) async {
    try {
      final dbPath = await DatabaseService.getDatabasePath();
      await File(backupPath).copy(dbPath);
      return true;
    } catch (e) {
      ErrorHandlerService.logError(e, context: 'BackupService.restoreBackup');
      return false;
    }
  }
}
```

### Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
```dart
class UpdateService {
  // ÙØ­Øµ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
  static Future<UpdateInfo?> checkForUpdates() async {
    try {
      final response = await http.get(Uri.parse('https://api.example.com/updates'));
      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        return UpdateInfo.fromJson(data);
      }
    } catch (e) {
      ErrorHandlerService.logError(e, context: 'UpdateService.checkForUpdates');
    }
    return null;
  }
  
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ«
  static Future<bool> downloadUpdate(String downloadUrl) async {
    try {
      final response = await http.get(Uri.parse(downloadUrl));
      if (response.statusCode == 200) {
        final documentsDir = await getApplicationDocumentsDirectory();
        final updatePath = '${documentsDir.path}/update.apk';
        await File(updatePath).writeAsBytes(response.bodyBytes);
        return true;
      }
    } catch (e) {
      ErrorHandlerService.logError(e, context: 'UpdateService.downloadUpdate');
    }
    return false;
  }
}
```

## ğŸ“Š Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

### Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø£Ø¯Ø§Ø¡
```dart
class PerformanceMonitor {
  static final Map<String, Stopwatch> _timers = {};
  
  // Ø¨Ø¯Ø¡ Ù‚ÙŠØ§Ø³ Ø§Ù„ÙˆÙ‚Øª
  static void startTimer(String name) {
    _timers[name] = Stopwatch()..start();
  }
  
  // Ø¥Ù†Ù‡Ø§Ø¡ Ù‚ÙŠØ§Ø³ Ø§Ù„ÙˆÙ‚Øª
  static Duration endTimer(String name) {
    final timer = _timers.remove(name);
    if (timer != null) {
      timer.stop();
      print('$name took: ${timer.elapsedMilliseconds}ms');
      return timer.elapsed;
    }
    return Duration.zero;
  }
  
  // Ù‚ÙŠØ§Ø³ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©
  static void logMemoryUsage() {
    final info = ProcessInfo.currentRss;
    print('Memory usage: ${info ~/ 1024 ~/ 1024} MB');
  }
}
```

## ğŸ”§ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØµØ­ÙŠØ­
```dart
class DebugTools {
  static bool _isDebugMode = false;
  
  static void enableDebugMode() {
    _isDebugMode = true;
    print('Debug mode enabled');
  }
  
  static void log(String message, {String? tag}) {
    if (_isDebugMode) {
      final timestamp = DateTime.now().toIso8601String();
      print('[$timestamp] ${tag ?? 'DEBUG'}: $message');
    }
  }
  
  static void logDatabaseQuery(String query, {List<dynamic>? arguments}) {
    if (_isDebugMode) {
      print('SQL: $query');
      if (arguments != null) print('Args: $arguments');
    }
  }
}
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª
1. **Ø§Ø³ØªØ®Ø¯Ù… Provider Pattern** Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
2. **ÙØµÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ Ø¹Ù† Ø§Ù„Ø¹Ø±Ø¶** (MVVM)
3. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ Ø´Ø§Ù…Ù„**
4. **ÙƒØªØ§Ø¨Ø© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„Ø©**
5. **ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©**
6. **ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø°Ø§ÙƒØ±Ø©**

### Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†
1. **ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±**
2. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª**
3. **Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©**
4. **Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ù†ØªØ¸Ù…Ø©**

### Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØµÙŠØ§Ù†Ø©
1. **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡**
2. **ØªÙ†Ø¸ÙŠÙ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**
3. **ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª**
4. **Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø£Ù…Ø§Ù†**

---

*Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: Ø¯ÙŠØ³Ù…Ø¨Ø± 2024*
*Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚: 1.0*
